{% extends 'base.html' %}
{% block content %}
<main>
  <br><br><br>

  {% if dataset is not None %}
    {% if selected_dataset == 'iris' %}
      <div class="row d-flex justify-content-start" >
          <h2 class="hh2 col-auto mb-5 me-2">Iris Dataset Preview</h2>
          <form class="col-auto" method="post" action="{% url 'show_uploaded_dataset' %}">
              {% csrf_token %}
              <input type="hidden" name="backToPrep" id="backToPrep" value="">
              <button type="submit">Back</button>
          </form>
      </div>
    {% elif selected_dataset == 'titanic' %}
      <div class="row d-flex justify-content-start" >
          <h2 class="hh2 col-auto mb-5 me-2">Titanic Dataset Preview</h2>
          <form class="col-auto" method="post" action="{% url 'show_uploaded_dataset' %}">
              {% csrf_token %}
              <input type="hidden" name="backToPrep" id="backToPrep" value="">
              <button type="submit">Back</button>
          </form>
      </div>
    {% elif selected_dataset == 'winequality-white' %}
      <div class="row d-flex justify-content-start" >
          <h2 class="hh2 col-auto mb-5 me-2">Wine Quality - white Dataset Preview</h2>
          <form class="col-auto" method="post" action="{% url 'show_uploaded_dataset' %}">
              {% csrf_token %}
              <input type="hidden" name="backToPrep" id="backToPrep" value="">
              <button type="submit">Back</button>
          </form>
      </div>
    {% elif selected_dataset == 'data' %}
      <div class="row d-flex justify-content-start" >
          <h2 class="hh2 col-auto mb-5 me-2">Dataset Preview</h2>
          <form class="col-auto" method="post" action="{% url 'show_uploaded_dataset' %}">
              {% csrf_token %}
              <input type="hidden" name="backToPrep" id="backToPrep" value="">
              <button type="submit">Back</button>
          </form>
      </div>
    {% endif %}
    <table>
      <thead>
        <tr>
          {% if selected_dataset == 'iris' %}
            <th>Sepal Length</th>
            <th>Sepal Width</th>
            <th>Petal Length</th>
            <th>Petal Width</th>
            <th>Species</th>
          {% elif selected_dataset == 'titanic' %}
            <th>Pclass</th>
            <th>Survived</th>
            <th>Name</th>
            <th>Sex</th>
            <th>Age</th>
            <th>SibSp</th>
            <th>Parch</th>
            <th>Ticket</th>
            <th>Fare</th>
            <th>Cabin</th>
            <th>Embarked</th>
            <th>Boat</th>
            <th>Body</th>
            <th>Home/dest</th>
          {% elif selected_dataset == 'winequality-white' %}
            <th>fixed acidity</th>
            <th>volatile acidity</th>
            <th>citric acid</th>
            <th>residual sugar</th>
            <th>chlorides</th>
            <th>free sulfur dioxide</th>
            <th>total sulfur dioxide</th>
            <th>density</th>
            <th>pH</th>
            <th>sulphates</th>
            <th>alcohol</th>
            <th>quality</th>

          {% elif selected_dataset == 'data' %}
            <th></th>
            <th></th>
          {% endif %}
        </tr>
      </thead>
      <tbody>
        {% if selected_dataset == 'iris' %}
          {% for row in dataset.values %}
            <tr>
                <td>{{ row.0 }}</td>
                <td>{{ row.1 }}</td>
                <td>{{ row.2 }}</td>
                <td>{{ row.3 }}</td>
                <td>{{ row.4 }}</td>
            </tr>
            {% endfor %}
        {% elif selected_dataset == 'titanic' %}
          {% for row in dataset.values %}
            <tr>
              <td>{{ row.0 }}</td>
              <td>{{ row.1 }}</td>
              <td>{{ row.2 }}</td>
              <td>{{ row.3 }}</td>
              <td>{{ row.4 }}</td>
              <td>{{ row.5 }}</td>
              <td>{{ row.6 }}</td>
              <td>{{ row.7 }}</td>
              <td>{{ row.8 }}</td>
              <td>{{ row.9 }}</td>
              <td>{{ row.10 }}</td>
              <td>{{ row.11 }}</td>
              <td>{{ row.12 }}</td>
              <td>{{ row.13 }}</td>
            </tr>
          {% endfor %}
        {% elif selected_dataset == 'winequality-white' %}
          {% for row in dataset.values %}
            <tr>
              <td>{{ row.0 }}</td>
              <td>{{ row.1 }}</td>
              <td>{{ row.2 }}</td>
              <td>{{ row.3 }}</td>
              <td>{{ row.4 }}</td>
              <td>{{ row.5 }}</td>
              <td>{{ row.6 }}</td>
              <td>{{ row.7 }}</td>
              <td>{{ row.8 }}</td>
              <td>{{ row.9 }}</td>
              <td>{{ row.10 }}</td>
              <td>{{ row.11 }}</td>
            </tr>
          {% endfor %}

        {% elif selected_dataset == 'data' %}
          {% for row in dataset.values %}
            <tr>
              <td>{{ row.0 }}</td>
              <td>{{ row.1 }}</td>
          {% endfor %}    
        {% endif %}
      </tbody>
    </table>
    
  {% else %}
    <p>No dataset selected.</p>
  {% endif %}

</main>
{% endblock %}
